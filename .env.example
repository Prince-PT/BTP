# =============================================================================
# ENVIRONMENT CONFIGURATION
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env to version control!

# =============================================================================
# APPLICATION
# =============================================================================
NODE_ENV=development
PORT=3000
FRONTEND_URL=http://localhost:5173

# =============================================================================
# DATABASE
# =============================================================================
# PostgreSQL connection string
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=SCHEMA
DATABASE_URL="postgresql://rideshare:rideshare123@localhost:5432/rideshare_db?schema=public"

# =============================================================================
# AUTHENTICATION
# =============================================================================
# JWT Secret - CHANGE THIS IN PRODUCTION! Use a strong random string
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRES_IN=7d

# OTP Configuration
OTP_EXPIRY_MINUTES=5
OTP_LENGTH=6

# =============================================================================
# EMAIL (Development - Ethereal)
# =============================================================================
# For development, leave these empty to auto-generate Ethereal credentials
# The app will log the preview URL to the console
SMTP_HOST=
SMTP_PORT=
SMTP_USER=
SMTP_PASS=
SMTP_FROM=noreply@rideshare.dev

# =============================================================================
# EMAIL (Production - Optional)
# =============================================================================
# Uncomment and configure for production use
# Example for SendGrid:
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_USER=apikey
# SMTP_PASS=your-sendgrid-api-key

# Example for Mailgun:
# SMTP_HOST=smtp.mailgun.org
# SMTP_PORT=587
# SMTP_USER=postmaster@your-domain.mailgun.org
# SMTP_PASS=your-mailgun-password

# =============================================================================
# MAPS & GEOCODING
# =============================================================================
# OpenStreetMap tile server (free, no API key needed)
MAP_TILE_URL=https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png
MAP_ATTRIBUTION=Â© OpenStreetMap contributors

# Nominatim for geocoding (free, but please add User-Agent)
NOMINATIM_URL=https://nominatim.openstreetmap.org
NOMINATIM_USER_AGENT=RideShareApp/1.0

# =============================================================================
# RIDE MATCHING CONFIGURATION
# =============================================================================
# Maximum offset distance in km for shared rides
MAX_OFFSET_KM=3

# Maximum efficiency ratio (added distance / original distance)
MAX_EFFICIENCY_RATIO=0.3

# Pricing
BASE_FARE=2.50
RATE_PER_KM=1.20
OFFSET_RATE_PER_KM=2.00

# =============================================================================
# WEBSOCKET
# =============================================================================
SOCKET_CORS_ORIGIN=http://localhost:5173

# =============================================================================
# REDIS (Optional - for future use)
# =============================================================================
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=debug

# =============================================================================
# SECURITY
# =============================================================================
# Rate limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# CORS
CORS_ORIGIN=http://localhost:5173

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_MOCK_PAYMENTS=true
ENABLE_EMAIL_VERIFICATION=true
